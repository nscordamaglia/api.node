(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47f0c51f"],{"00f9":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Usuarios")]),r("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(e.mensaje.texto)+" ")]),e.agregar?r("form",{on:{submit:function(t){return t.preventDefault(),e.agregarUsuario(e.usuario)}}},[r("h3",{staticClass:"text-center"},[e._v("Agregar Usuario")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.nombre,expression:"usuario.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Nombre"},domProps:{value:e.usuario.nombre},on:{input:function(t){t.target.composing||e.$set(e.usuario,"nombre",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.apellido,expression:"usuario.apellido"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Apellido"},domProps:{value:e.usuario.apellido},on:{input:function(t){t.target.composing||e.$set(e.usuario,"apellido",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.username,expression:"usuario.username"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un nombre de usuario"},domProps:{value:e.usuario.username},on:{input:function(t){t.target.composing||e.$set(e.usuario,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.email,expression:"usuario.email"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un correo"},domProps:{value:e.usuario.email},on:{input:function(t){t.target.composing||e.$set(e.usuario,"email",t.target.value)}}}),r("b-button",{staticClass:"btn-sm btn-block btn-success",attrs:{type:"submit"}},[e._v("Agregar")])],1):r("form",{on:{submit:function(t){return t.preventDefault(),e.editarUsuario(e.usuarioEditar)}}},[r("h3",{staticClass:"text-center"},[e._v("Editar Usuario")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioEditar.nombre,expression:"usuarioEditar.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Nombre"},domProps:{value:e.usuarioEditar.nombre},on:{input:function(t){t.target.composing||e.$set(e.usuarioEditar,"nombre",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioEditar.apellido,expression:"usuarioEditar.apellido"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese una descripcion"},domProps:{value:e.usuarioEditar.apellido},on:{input:function(t){t.target.composing||e.$set(e.usuarioEditar,"apellido",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioEditar.username,expression:"usuarioEditar.username"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Nombre"},domProps:{value:e.usuarioEditar.username},on:{input:function(t){t.target.composing||e.$set(e.usuarioEditar,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioEditar.email,expression:"usuarioEditar.email"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese una descripcion"},domProps:{value:e.usuarioEditar.email},on:{input:function(t){t.target.composing||e.$set(e.usuarioEditar,"email",t.target.value)}}}),r("b-button",{staticClass:"btn-sm btn-block mb-1 btn-warning",attrs:{type:"submit"}},[e._v("Editar")]),r("b-button",{staticClass:"btn-sm btn-block",on:{click:function(t){e.agregar=!0}}},[e._v("Cancelar")])],1),r("table",{staticClass:"table"},[e._m(0),r("tbody",e._l(e.usuarios,(function(t,o){return r("tr",{key:o},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t._id))]),r("td",[e._v(e._s(t.nombre))]),r("td",[e._v(e._s(t.apellido))]),r("td",[e._v(e._s(t.username))]),r("td",[e._v(e._s(t.email))]),r("td",[r("b-button",{staticClass:"btn-warning btn-sm mx-2",on:{click:function(r){return e.activarEdicion(t._id)}}},[e._v("Actualizar")]),r("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(r){return e.eliminarUsuario(t._id)}}},[e._v("Eliminar")])],1)])})),0)])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("Nombre")]),r("th",{attrs:{scope:"col"}},[e._v("Apellido")]),r("th",{attrs:{scope:"col"}},[e._v("Username")]),r("th",{attrs:{scope:"col"}},[e._v("Email")]),r("th",{attrs:{scope:"col"}},[e._v("Acciones")])])])}],s=(r("c740"),r("a434"),{data:function(){return{usuarios:[],usuario:{},mensaje:{color:"success",texto:""},dismissSecs:5,dismissCountDown:0,agregar:!0,usuarioEditar:{}}},created:function(){this.listarUsuarios()},methods:{listarUsuarios:function(){var e=this;this.axios.get("users").then((function(t){e.usuarios=t.data})).catch((function(e){console.log("error"+e)}))},agregarUsuario:function(e){var t=this;this.axios.post("create",e).then((function(e){t.usuarios.unshift(e.data),console.log(e),t.showAlert(),t.mensaje.texto="Usuario Agregado!",t.mensaje.color="success"})).catch((function(e){console.log(e.response.data.message),t.showAlert(),t.mensaje.color="danger",t.mensaje.texto=e.response.data.message}))},eliminarUsuario:function(e){var t=this;this.axios.delete("user/".concat(e)).then((function(e){console.log(e);var r=t.usuarios.findIndex((function(t){return t._id===e.data._id}));t.usuarios.splice(r,1),t.showAlert(),t.mensaje.texto="Usuario Eliminado!",t.mensaje.color="success"})).catch((function(e){console.log(e.response.data.message),t.showAlert(),t.mensaje.color="danger",t.mensaje.texto=e.response.data.message}))},activarEdicion:function(e){var t=this;this.agregar=!1,this.axios.get("user/".concat(e)).then((function(e){t.usuarioEditar=e.data})).catch((function(e){console.log(e.response)}))},editarUsuario:function(e){var t=this;this.axios.put("user/".concat(e._id),e).then((function(e){var r=t.usuarios.findIndex((function(e){return e._id===t.usuarioEditar._id}));t.usuarios[r].nombre=t.usuarioEditar.nombre,t.usuarios[r].apellido=t.usuarioEditar.apellido,t.usuarios[r].username=t.usuarioEditar.username,t.usuarios[r].email=t.usuarioEditar.email,t.usuarioEditar={},t.showAlert(),t.mensaje.texto="Usuario Actualizado",t.mensaje.color="success"})).catch((function(e){console.log(e)})),this.agregar=!0},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}}),n=s,i=r("2877"),u=Object(i["a"])(n,o,a,!1,null,null,null);t["default"]=u.exports},"1dde":function(e,t,r){var o=r("d039"),a=r("b622"),s=r("2d00"),n=a("species");e.exports=function(e){return s>=51||!o((function(){var t=[],r=t.constructor={};return r[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var o=r("861d"),a=r("e8b5"),s=r("b622"),n=s("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?o(r)&&(r=r[n],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var o=r("c04e"),a=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var n=o(t);n in e?a.f(e,n,s(0,r)):e[n]=r}},a434:function(e,t,r){"use strict";var o=r("23e7"),a=r("23cb"),s=r("a691"),n=r("50c4"),i=r("7b0b"),u=r("65f0"),c=r("8418"),l=r("1dde"),d=r("ae40"),m=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!m||!f},{splice:function(e,t){var r,o,l,d,m,f,b=i(this),x=n(b.length),_=a(e,x),E=arguments.length;if(0===E?r=o=0:1===E?(r=0,o=x-_):(r=E-2,o=v(p(s(t),0),x-_)),x+r-o>g)throw TypeError(h);for(l=u(b,o),d=0;d<o;d++)m=_+d,m in b&&c(l,d,b[m]);if(l.length=o,r<o){for(d=_;d<x-o;d++)m=d+o,f=d+r,m in b?b[f]=b[m]:delete b[f];for(d=x;d>x-o+r;d--)delete b[d-1]}else if(r>o)for(d=x-o;d>_;d--)m=d+o-1,f=d+r-1,m in b?b[f]=b[m]:delete b[f];for(d=0;d<r;d++)b[d+_]=arguments[d+2];return b.length=x-o+r,l}})},ae40:function(e,t,r){var o=r("83ab"),a=r("d039"),s=r("5135"),n=Object.defineProperty,i={},u=function(e){throw e};e.exports=function(e,t){if(s(i,e))return i[e];t||(t={});var r=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,l=s(t,0)?t[0]:u,d=s(t,1)?t[1]:void 0;return i[e]=!!r&&!a((function(){if(c&&!o)return!0;var e={length:-1};c?n(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,d)}))}},b727:function(e,t,r){var o=r("0366"),a=r("44ad"),s=r("7b0b"),n=r("50c4"),i=r("65f0"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,d=6==e,m=5==e||d;return function(f,p,v,g){for(var h,b,x=s(f),_=a(x),E=o(p,v,3),w=n(_.length),y=0,C=g||i,A=t?C(f,w):r?C(f,0):void 0;w>y;y++)if((m||y in _)&&(h=_[y],b=E(h,y,x),e))if(t)A[y]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:u.call(A,h)}else if(l)return!1;return d?-1:c||l?l:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c740:function(e,t,r){"use strict";var o=r("23e7"),a=r("b727").findIndex,s=r("44d2"),n=r("ae40"),i="findIndex",u=!0,c=n(i);i in[]&&Array(1)[i]((function(){u=!1})),o({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},e8b5:function(e,t,r){var o=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=chunk-47f0c51f.90fb615b.js.map